import{j as e,L as u}from"./index-CazD0lh_.js";import{f as b,u as y,b as i}from"./vendor-DbVhFtnB.js";import{c as f,b as I,d as F,e as T}from"./index-CxPFECyC.js";import{H as o,F as l}from"./Footer-Dvuu7DRj.js";import{B as m}from"./endpoints-tkC2708l.js";import{m as D}from"./movieService-Cf7HNypu.js";import{g as k,s as C}from"./helpers-DhMVO0Vp.js";const E="_movieDetail_10bro_1",H="_hero_10bro_6",S="_backdrop_10bro_15",L="_heroOverlay_10bro_24",M="_title_10bro_33",O="_meta_10bro_40",q="_metaItem_10bro_48",w="_content_10bro_54",z="_poster_10bro_61",B="_posterImg_10bro_67",K="_info_10bro_72",P="_section_10bro_78",U="_sectionTitle_10bro_87",W="_description_10bro_97",A="_actions_10bro_102",Q="_tags_10bro_108",R="_tag_10bro_108",s={movieDetail:E,hero:H,backdrop:S,heroOverlay:L,title:M,meta:O,metaItem:q,content:w,poster:z,posterImg:B,info:K,section:P,sectionTitle:U,description:W,actions:A,tags:Q,tag:R},ee=()=>{const{slug:n}=b(),d=y(),[t,_]=i.useState(null),[p,h]=i.useState(!0),[x,r]=i.useState(null);i.useEffect(()=>{v()},[n]);const v=async()=>{h(!0),r(null);try{const a=await D.getMovieDetail(n);a&&a.data&&a.data.item?_(a.data.item):r("Không tìm thấy phim")}catch(a){r("Lỗi tải thông tin phim"),console.error("Error fetching movie detail:",a)}finally{h(!1)}},N=()=>{d(`/watch/${n}`)};if(p)return e.jsxs(e.Fragment,{children:[e.jsx(o,{}),e.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(u,{})}),e.jsx(l,{})]});if(x||!t)return e.jsxs(e.Fragment,{children:[e.jsx(o,{}),e.jsxs("div",{className:"container",style:{minHeight:"100vh",padding:"2rem",textAlign:"center"},children:[e.jsx("h1",{children:x||"Không tìm thấy phim"}),e.jsx(m,{onClick:()=>d("/"),children:"Về trang chủ"})]}),e.jsx(l,{})]});const j=k(t.poster_url||t.thumb_url),g=t.tmdb?.vote_average||t.imdb?.rating||0;return e.jsxs(e.Fragment,{children:[e.jsx(o,{}),e.jsxs("main",{className:s.movieDetail,children:[e.jsxs("div",{className:s.hero,children:[e.jsx("img",{src:j,alt:t.name,className:s.backdrop}),e.jsxs("div",{className:s.heroOverlay,children:[e.jsx("h1",{className:s.title,children:t.name}),e.jsxs("div",{className:s.meta,children:[t.year&&e.jsxs("span",{className:s.metaItem,children:[e.jsx(f,{})," ",t.year]}),g>0&&e.jsxs("span",{className:s.metaItem,children:[e.jsx(I,{})," ",g.toFixed(1)]}),t.time&&e.jsxs("span",{className:s.metaItem,children:[e.jsx(F,{})," ",t.time]}),t.quality&&e.jsx("span",{children:t.quality}),t.lang&&e.jsx("span",{children:t.lang})]})]})]}),e.jsx("div",{className:"container",children:e.jsxs("div",{className:s.content,children:[e.jsx("div",{className:s.poster,children:e.jsx("img",{src:j,alt:t.name,className:s.posterImg})}),e.jsxs("div",{className:s.info,children:[e.jsxs("div",{className:s.actions,children:[e.jsx(m,{onClick:N,icon:e.jsx(T,{}),size:"large",children:"Xem phim"}),e.jsx(m,{variant:"secondary",size:"large",children:"Watchlist"})]}),e.jsxs("div",{className:s.section,children:[e.jsx("h2",{className:s.sectionTitle,children:"Nội dung"}),e.jsx("p",{className:s.description,children:t.content?C(t.content):"Đang cập nhật..."})]}),t.category&&t.category.length>0&&e.jsxs("div",{className:s.section,children:[e.jsx("h2",{className:s.sectionTitle,children:"Thể loại"}),e.jsx("div",{className:s.tags,children:t.category.map((a,c)=>e.jsx("span",{className:s.tag,children:a.name},c))})]}),t.country&&t.country.length>0&&e.jsxs("div",{className:s.section,children:[e.jsx("h2",{className:s.sectionTitle,children:"Quốc gia"}),e.jsx("div",{className:s.tags,children:t.country.map((a,c)=>e.jsx("span",{className:s.tag,children:a.name},c))})]}),t.actor&&t.actor.length>0&&e.jsxs("div",{className:s.section,children:[e.jsx("h2",{className:s.sectionTitle,children:"Diễn viên"}),e.jsx("p",{className:s.description,children:t.actor.join(", ")})]}),t.director&&t.director.length>0&&e.jsxs("div",{className:s.section,children:[e.jsx("h2",{className:s.sectionTitle,children:"Đạo diễn"}),e.jsx("p",{className:s.description,children:t.director.join(", ")})]})]})]})})]}),e.jsx(l,{})]})};export{ee as default};
